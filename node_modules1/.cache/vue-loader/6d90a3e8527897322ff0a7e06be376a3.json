{"remainingRequest":"G:\\实训一\\carPrice\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\实训一\\carPrice\\src\\components\\better-scroll\\bubble.vue?vue&type=script&lang=js&","dependencies":[{"path":"G:\\实训一\\carPrice\\src\\components\\better-scroll\\bubble.vue","mtime":1576460955730},{"path":"G:\\实训一\\carPrice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgeTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDAKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB3aWR0aDogNTAsCiAgICAgIGhlaWdodDogODAKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBkaXN0YW5jZSgpIHsKICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIE1hdGgubWluKHRoaXMueSAqIHRoaXMucmF0aW8sIHRoaXMubWF4RGlzdGFuY2UpKQogICAgfSwKICAgIHN0eWxlKCkgewogICAgICByZXR1cm4gYHdpZHRoOiR7dGhpcy53aWR0aCAvIHRoaXMucmF0aW99cHg7aGVpZ2h0OiR7dGhpcy5oZWlnaHQgLyB0aGlzLnJhdGlvfXB4YAogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMucmF0aW8gPSB3aW5kb3cuZGV2aWNlUGl4ZWxSYXRpbwogICAgdGhpcy53aWR0aCAqPSB0aGlzLnJhdGlvCiAgICB0aGlzLmhlaWdodCAqPSB0aGlzLnJhdGlvCiAgICB0aGlzLmluaXRSYWRpdXMgPSAxOCAqIHRoaXMucmF0aW8KICAgIHRoaXMubWluSGVhZFJhZGl1cyA9IDEyICogdGhpcy5yYXRpbwogICAgdGhpcy5taW5UYWlsUmFkaXVzID0gNSAqIHRoaXMucmF0aW8KICAgIHRoaXMuaW5pdEFycm93UmFkaXVzID0gMTAgKiB0aGlzLnJhdGlvCiAgICB0aGlzLm1pbkFycm93UmFkaXVzID0gNiAqIHRoaXMucmF0aW8KICAgIHRoaXMuYXJyb3dXaWR0aCA9IDMgKiB0aGlzLnJhdGlvCiAgICB0aGlzLm1heERpc3RhbmNlID0gNDAgKiB0aGlzLnJhdGlvCiAgICB0aGlzLmluaXRDZW50ZXJYID0gMjUgKiB0aGlzLnJhdGlvCiAgICB0aGlzLmluaXRDZW50ZXJZID0gMjUgKiB0aGlzLnJhdGlvCiAgICB0aGlzLmhlYWRDZW50ZXIgPSB7CiAgICAgIHg6IHRoaXMuaW5pdENlbnRlclgsCiAgICAgIHk6IHRoaXMuaW5pdENlbnRlclkKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLl9kcmF3KCkKICB9LAogIG1ldGhvZHM6IHsKICAgIF9kcmF3KCkgewogICAgICBjb25zdCBidWJibGUgPSB0aGlzLiRyZWZzLmJ1YmJsZQogICAgICBsZXQgY3R4ID0gYnViYmxlLmdldENvbnRleHQoJzJkJykKICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBidWJibGUud2lkdGgsIGJ1YmJsZS5oZWlnaHQpCiAgICAgIHRoaXMuX2RyYXdCdWJibGUoY3R4KQogICAgICB0aGlzLl9kcmF3QXJyb3coY3R4KQogICAgfSwKICAgIF9kcmF3QnViYmxlKGN0eCkgewogICAgICBjdHguc2F2ZSgpCiAgICAgIGN0eC5iZWdpblBhdGgoKQogICAgICBjb25zdCByYXRlID0gdGhpcy5kaXN0YW5jZSAvIHRoaXMubWF4RGlzdGFuY2UKICAgICAgY29uc3QgaGVhZFJhZGl1cyA9IHRoaXMuaW5pdFJhZGl1cyAtICh0aGlzLmluaXRSYWRpdXMgLSB0aGlzLm1pbkhlYWRSYWRpdXMpICogcmF0ZQogICAgICB0aGlzLmhlYWRDZW50ZXIueSA9IHRoaXMuaW5pdENlbnRlclkgLSAodGhpcy5pbml0UmFkaXVzIC0gdGhpcy5taW5IZWFkUmFkaXVzKSAqIHJhdGUKICAgICAgLy8g55S75LiK5Y2K5byn57q/CiAgICAgIGN0eC5hcmModGhpcy5oZWFkQ2VudGVyLngsIHRoaXMuaGVhZENlbnRlci55LCBoZWFkUmFkaXVzLCAwLCBNYXRoLlBJLCB0cnVlKQogICAgICAvLyDnlLvlt6bkvqfotJ3loZ7lsJQKICAgICAgY29uc3QgdGFpbFJhZGl1cyA9IHRoaXMuaW5pdFJhZGl1cyAtICh0aGlzLmluaXRSYWRpdXMgLSB0aGlzLm1pblRhaWxSYWRpdXMpICogcmF0ZQogICAgICBjb25zdCB0YWlsQ2VudGVyID0gewogICAgICAgIHg6IHRoaXMuaGVhZENlbnRlci54LAogICAgICAgIHk6IHRoaXMuaGVhZENlbnRlci55ICsgdGhpcy5kaXN0YW5jZQogICAgICB9CiAgICAgIGNvbnN0IHRhaWxQb2ludEwgPSB7CiAgICAgICAgeDogdGFpbENlbnRlci54IC0gdGFpbFJhZGl1cywKICAgICAgICB5OiB0YWlsQ2VudGVyLnkKICAgICAgfQogICAgICBjb25zdCBjb250cm9sUG9pbnRMID0gewogICAgICAgIHg6IHRhaWxQb2ludEwueCwKICAgICAgICB5OiB0YWlsUG9pbnRMLnkgLSB0aGlzLmRpc3RhbmNlIC8gMgogICAgICB9CiAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKGNvbnRyb2xQb2ludEwueCwgY29udHJvbFBvaW50TC55LCB0YWlsUG9pbnRMLngsIHRhaWxQb2ludEwueSkKICAgICAgLy8g55S75LiL5Y2K5byn57q/CiAgICAgIGN0eC5hcmModGFpbENlbnRlci54LCB0YWlsQ2VudGVyLnksIHRhaWxSYWRpdXMsIE1hdGguUEksIDAsIHRydWUpCiAgICAgIC8vIOeUu+WPs+S+p+i0neWhnuWwlAogICAgICBjb25zdCBoZWFkUG9pbnRSID0gewogICAgICAgIHg6IHRoaXMuaGVhZENlbnRlci54ICsgaGVhZFJhZGl1cywKICAgICAgICB5OiB0aGlzLmhlYWRDZW50ZXIueQogICAgICB9CiAgICAgIGNvbnN0IGNvbnRyb2xQb2ludFIgPSB7CiAgICAgICAgeDogdGFpbENlbnRlci54ICsgdGFpbFJhZGl1cywKICAgICAgICB5OiBoZWFkUG9pbnRSLnkgKyB0aGlzLmRpc3RhbmNlIC8gMgogICAgICB9CiAgICAgIGN0eC5xdWFkcmF0aWNDdXJ2ZVRvKGNvbnRyb2xQb2ludFIueCwgY29udHJvbFBvaW50Ui55LCBoZWFkUG9pbnRSLngsIGhlYWRQb2ludFIueSkKICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2IoMTcwLDE3MCwxNzApJwogICAgICBjdHguZmlsbCgpCiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoMTUzLDE1MywxNTMpJwogICAgICBjdHguc3Ryb2tlKCkKICAgICAgY3R4LnJlc3RvcmUoKQogICAgfSwKICAgIF9kcmF3QXJyb3coY3R4KSB7CiAgICAgIGN0eC5zYXZlKCkKICAgICAgY3R4LmJlZ2luUGF0aCgpCiAgICAgIGNvbnN0IHJhdGUgPSB0aGlzLmRpc3RhbmNlIC8gdGhpcy5tYXhEaXN0YW5jZQogICAgICBjb25zdCBhcnJvd1JhZGl1cyA9IHRoaXMuaW5pdEFycm93UmFkaXVzIC0gKHRoaXMuaW5pdEFycm93UmFkaXVzIC0gdGhpcy5taW5BcnJvd1JhZGl1cykgKiByYXRlCiAgICAgIC8vIOeUu+WGheWchgogICAgICBjdHguYXJjKHRoaXMuaGVhZENlbnRlci54LCB0aGlzLmhlYWRDZW50ZXIueSwgYXJyb3dSYWRpdXMgLSAodGhpcy5hcnJvd1dpZHRoIC0gcmF0ZSksIC1NYXRoLlBJIC8gMiwgMCwgdHJ1ZSkKICAgICAgLy8g55S75aSW5ZyGCiAgICAgIGN0eC5hcmModGhpcy5oZWFkQ2VudGVyLngsIHRoaXMuaGVhZENlbnRlci55LCBhcnJvd1JhZGl1cywgMCwgTWF0aC5QSSAqIDMgLyAyLCBmYWxzZSkKICAgICAgY3R4LmxpbmVUbyh0aGlzLmhlYWRDZW50ZXIueCwgdGhpcy5oZWFkQ2VudGVyLnkgLSBhcnJvd1JhZGl1cyAtIHRoaXMuYXJyb3dXaWR0aCAvIDIgKyByYXRlKQogICAgICBjdHgubGluZVRvKHRoaXMuaGVhZENlbnRlci54ICsgdGhpcy5hcnJvd1dpZHRoICogMiAtIHJhdGUgKiAyLCB0aGlzLmhlYWRDZW50ZXIueSAtIGFycm93UmFkaXVzICsgdGhpcy5hcnJvd1dpZHRoIC8gMikKICAgICAgY3R4LmxpbmVUbyh0aGlzLmhlYWRDZW50ZXIueCwgdGhpcy5oZWFkQ2VudGVyLnkgLSBhcnJvd1JhZGl1cyArIHRoaXMuYXJyb3dXaWR0aCAqIDMgLyAyIC0gcmF0ZSkKICAgICAgY3R4LmZpbGxTdHlsZSA9ICdyZ2IoMjU1LDI1NSwyNTUpJwogICAgICBjdHguZmlsbCgpCiAgICAgIGN0eC5zdHJva2VTdHlsZSA9ICdyZ2IoMTcwLDE3MCwxNzApJwogICAgICBjdHguc3Ryb2tlKCkKICAgICAgY3R4LnJlc3RvcmUoKQogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIHkoKSB7CiAgICAgIHRoaXMuX2RyYXcoKQogICAgfQogIH0KfQo="},{"version":3,"sources":["bubble.vue"],"names":[],"mappings":";;;;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"bubble.vue","sourceRoot":"src/components/better-scroll","sourcesContent":["<template>\r\n  <canvas ref=\"bubble\" :width=\"width\" :height=\"height\" :style=\"style\"></canvas>\r\n</template>\r\n\r\n<script type=\"text/ecmascript-6\">\r\n  export default {\r\n    props: {\r\n      y: {\r\n        type: Number,\r\n        default: 0\r\n      }\r\n    },\r\n    data() {\r\n      return {\r\n        width: 50,\r\n        height: 80\r\n      }\r\n    },\r\n    computed: {\r\n      distance() {\r\n        return Math.max(0, Math.min(this.y * this.ratio, this.maxDistance))\r\n      },\r\n      style() {\r\n        return `width:${this.width / this.ratio}px;height:${this.height / this.ratio}px`\r\n      }\r\n    },\r\n    created() {\r\n      this.ratio = window.devicePixelRatio\r\n      this.width *= this.ratio\r\n      this.height *= this.ratio\r\n      this.initRadius = 18 * this.ratio\r\n      this.minHeadRadius = 12 * this.ratio\r\n      this.minTailRadius = 5 * this.ratio\r\n      this.initArrowRadius = 10 * this.ratio\r\n      this.minArrowRadius = 6 * this.ratio\r\n      this.arrowWidth = 3 * this.ratio\r\n      this.maxDistance = 40 * this.ratio\r\n      this.initCenterX = 25 * this.ratio\r\n      this.initCenterY = 25 * this.ratio\r\n      this.headCenter = {\r\n        x: this.initCenterX,\r\n        y: this.initCenterY\r\n      }\r\n    },\r\n    mounted() {\r\n      this._draw()\r\n    },\r\n    methods: {\r\n      _draw() {\r\n        const bubble = this.$refs.bubble\r\n        let ctx = bubble.getContext('2d')\r\n        ctx.clearRect(0, 0, bubble.width, bubble.height)\r\n        this._drawBubble(ctx)\r\n        this._drawArrow(ctx)\r\n      },\r\n      _drawBubble(ctx) {\r\n        ctx.save()\r\n        ctx.beginPath()\r\n        const rate = this.distance / this.maxDistance\r\n        const headRadius = this.initRadius - (this.initRadius - this.minHeadRadius) * rate\r\n        this.headCenter.y = this.initCenterY - (this.initRadius - this.minHeadRadius) * rate\r\n        // 画上半弧线\r\n        ctx.arc(this.headCenter.x, this.headCenter.y, headRadius, 0, Math.PI, true)\r\n        // 画左侧贝塞尔\r\n        const tailRadius = this.initRadius - (this.initRadius - this.minTailRadius) * rate\r\n        const tailCenter = {\r\n          x: this.headCenter.x,\r\n          y: this.headCenter.y + this.distance\r\n        }\r\n        const tailPointL = {\r\n          x: tailCenter.x - tailRadius,\r\n          y: tailCenter.y\r\n        }\r\n        const controlPointL = {\r\n          x: tailPointL.x,\r\n          y: tailPointL.y - this.distance / 2\r\n        }\r\n        ctx.quadraticCurveTo(controlPointL.x, controlPointL.y, tailPointL.x, tailPointL.y)\r\n        // 画下半弧线\r\n        ctx.arc(tailCenter.x, tailCenter.y, tailRadius, Math.PI, 0, true)\r\n        // 画右侧贝塞尔\r\n        const headPointR = {\r\n          x: this.headCenter.x + headRadius,\r\n          y: this.headCenter.y\r\n        }\r\n        const controlPointR = {\r\n          x: tailCenter.x + tailRadius,\r\n          y: headPointR.y + this.distance / 2\r\n        }\r\n        ctx.quadraticCurveTo(controlPointR.x, controlPointR.y, headPointR.x, headPointR.y)\r\n        ctx.fillStyle = 'rgb(170,170,170)'\r\n        ctx.fill()\r\n        ctx.strokeStyle = 'rgb(153,153,153)'\r\n        ctx.stroke()\r\n        ctx.restore()\r\n      },\r\n      _drawArrow(ctx) {\r\n        ctx.save()\r\n        ctx.beginPath()\r\n        const rate = this.distance / this.maxDistance\r\n        const arrowRadius = this.initArrowRadius - (this.initArrowRadius - this.minArrowRadius) * rate\r\n        // 画内圆\r\n        ctx.arc(this.headCenter.x, this.headCenter.y, arrowRadius - (this.arrowWidth - rate), -Math.PI / 2, 0, true)\r\n        // 画外圆\r\n        ctx.arc(this.headCenter.x, this.headCenter.y, arrowRadius, 0, Math.PI * 3 / 2, false)\r\n        ctx.lineTo(this.headCenter.x, this.headCenter.y - arrowRadius - this.arrowWidth / 2 + rate)\r\n        ctx.lineTo(this.headCenter.x + this.arrowWidth * 2 - rate * 2, this.headCenter.y - arrowRadius + this.arrowWidth / 2)\r\n        ctx.lineTo(this.headCenter.x, this.headCenter.y - arrowRadius + this.arrowWidth * 3 / 2 - rate)\r\n        ctx.fillStyle = 'rgb(255,255,255)'\r\n        ctx.fill()\r\n        ctx.strokeStyle = 'rgb(170,170,170)'\r\n        ctx.stroke()\r\n        ctx.restore()\r\n      }\r\n    },\r\n    watch: {\r\n      y() {\r\n        this._draw()\r\n      }\r\n    }\r\n  }\r\n</script>\r\n"]}]}