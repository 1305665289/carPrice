{"remainingRequest":"G:\\实训一\\carPrice\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!G:\\实训一\\carPrice\\src\\components\\better-scroll\\scroll.vue?vue&type=style&index=0&lang=scss&","dependencies":[{"path":"G:\\实训一\\carPrice\\src\\components\\better-scroll\\scroll.vue","mtime":1576460955744},{"path":"G:\\实训一\\carPrice\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\sass-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"G:\\实训一\\carPrice\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KLmxpc3Qtd3JhcHBlciB7DQogIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgaGVpZ2h0OiAxMDAlOw0KICAvKiBwb3NpdGlvbjogYWJzb2x1dGUgKi8NCiAgLyogbGVmdDogMCAqLw0KICAvKiB0b3A6IDAgKi8NCiAgLyogcmlnaHQ6IDAgKi8NCiAgLyogYm90dG9tOiAwICovDQogIG92ZXJmbG93OiBoaWRkZW47DQogIGJhY2tncm91bmQ6ICNmZmY7DQoNCiAgLnNjcm9sbC1jb250ZW50IHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgei1pbmRleDogMTsNCiAgfQ0KDQogIC5saXN0LWNvbnRlbnQgew0KICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsNCiAgICB6LWluZGV4OiAxMDsNCiAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KDQogICAgLmxpc3QtaXRlbSB7DQogICAgICBoZWlnaHQ6IDYwcHg7DQogICAgICBsaW5lLWhlaWdodDogNjBweDsNCiAgICAgIGZvbnQtc2l6ZTogMThweDsNCiAgICAgIHBhZGRpbmctbGVmdDogMjBweDsNCiAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZTVlNWU1Ow0KICAgIH0NCiAgfQ0KfQ0KDQoucHVsbGRvd24td3JhcHBlciB7DQogIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgd2lkdGg6IDEwMCU7DQogIGxlZnQ6IDA7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICB0cmFuc2l0aW9uOiBhbGw7DQoNCiAgLmFmdGVyLXRyaWdnZXIgew0KICAgIG1hcmdpbi10b3A6IDEwcHg7DQogIH0NCn0NCg0KLnB1bGx1cC13cmFwcGVyIHsNCiAgd2lkdGg6IDEwMCU7DQogIGRpc3BsYXk6IGZsZXg7DQogIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICBhbGlnbi1pdGVtczogY2VudGVyOw0KICBwYWRkaW5nOiAxNnB4IDA7DQp9DQo="},{"version":3,"sources":["scroll.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0TA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"scroll.vue","sourceRoot":"src/components/better-scroll","sourcesContent":["<template>\r\n    <div ref=\"wrapper\" class=\"list-wrapper\">\r\n        <div class=\"scroll-content\">\r\n            <div ref=\"listWrapper\">\r\n                <slot>\r\n                    <ul class=\"list-content\">\r\n                        <li @click=\"clickItem($event,item)\" class=\"list-item\" v-for=\"item in data\">{{item}}</li>\r\n                    </ul>\r\n                </slot>\r\n            </div>\r\n            <slot name=\"pullup\" :pullUpLoad=\"pullUpLoad\" :isPullUpLoad=\"isPullUpLoad\">\r\n                <div class=\"pullup-wrapper\" v-if=\"pullUpLoad\">\r\n                    <div class=\"before-trigger\" v-if=\"!isPullUpLoad\">\r\n                        <span>{{pullUpTxt}}</span>\r\n                    </div>\r\n                    <div class=\"after-trigger\" v-else>\r\n                        <loading></loading>\r\n                    </div>\r\n                </div>\r\n            </slot>\r\n        </div>\r\n        <slot name=\"pulldown\" :pullDownRefresh=\"pullDownRefresh\" :pullDownStyle=\"pullDownStyle\" :beforePullDown=\"beforePullDown\" :isPullingDown=\"isPullingDown\" :bubbleY=\"bubbleY\">\r\n            <div ref=\"pulldown\" class=\"pulldown-wrapper\" :style=\"pullDownStyle\" v-if=\"pullDownRefresh\">\r\n                <div class=\"before-trigger\" v-if=\"beforePullDown\">\r\n                    <bubble :y=\"bubbleY\"></bubble>\r\n                </div>\r\n                <div class=\"after-trigger\" v-else>\r\n                    <div v-if=\"isPullingDown\" class=\"loading\">\r\n                        <loading></loading>\r\n                    </div>\r\n                    <div v-else>\r\n                        <span>{{refreshTxt}}</span>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </slot>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n    import BScroll from \"better-scroll\";\r\n    import Loading from \"./loading.vue\";\r\n    import Bubble from \"./bubble.vue\";\r\n    import {\r\n        getRect\r\n    } from \"./dom\";\r\n    const COMPONENT_NAME = \"scroll\";\r\n    const DIRECTION_H = \"horizontal\";\r\n    const DIRECTION_V = \"vertical\";\r\n    export default {\r\n        name: COMPONENT_NAME,\r\n        props: {\r\n            data: {\r\n                type: Array,\r\n                default: function() {\r\n                    return [];\r\n                }\r\n            },\r\n            probeType: {\r\n                type: Number,\r\n                default: 1\r\n            },\r\n            click: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            listenScroll: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            listenBeforeScroll: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            listenScrollEnd: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            direction: {\r\n                type: String,\r\n                default: DIRECTION_V\r\n            },\r\n            scrollbar: {\r\n                type: null,\r\n                default: false\r\n            },\r\n            pullDownRefresh: {\r\n                type: null,\r\n                default: false\r\n            },\r\n            pullUpLoad: {\r\n                type: null,\r\n                default: false\r\n            },\r\n            startY: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            refreshDelay: {\r\n                type: Number,\r\n                default: 20\r\n            },\r\n            freeScroll: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            mouseWheel: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            bounce: {\r\n                default: true\r\n            },\r\n            zoom: {\r\n                default: false\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                beforePullDown: true,\r\n                isRebounding: false,\r\n                isPullingDown: false,\r\n                isPullUpLoad: false,\r\n                pullUpDirty: true,\r\n                pullDownStyle: \"\",\r\n                bubbleY: 0\r\n            };\r\n        },\r\n        computed: {\r\n            pullUpTxt() {\r\n                const moreTxt =\r\n                    (this.pullUpLoad && this.pullUpLoad.txt && this.pullUpLoad.txt.more) ||\r\n                    this.$i18n.t(\"scrollComponent.defaultLoadTxtMore\");\r\n                const noMoreTxt =\r\n                    (this.pullUpLoad &&\r\n                        this.pullUpLoad.txt &&\r\n                        this.pullUpLoad.txt.noMore) ||\r\n                    this.$i18n.t(\"scrollComponent.defaultLoadTxtNoMore\");\r\n                return this.pullUpDirty ? moreTxt : noMoreTxt;\r\n            },\r\n            refreshTxt() {\r\n                return (\r\n                    (this.pullDownRefresh && this.pullDownRefresh.txt) ||\r\n                    this.$i18n.t(\"scrollComponent.defaultRefreshTxt\")\r\n                );\r\n            }\r\n        },\r\n        created() {\r\n            this.pullDownInitTop = -50;\r\n        },\r\n        mounted() {\r\n            setTimeout(() => {\r\n                this.initScroll();\r\n            }, 20);\r\n        },\r\n        destroyed() {\r\n            this.$refs.scroll && this.$refs.scroll.destroy();\r\n        },\r\n        methods: {\r\n            initScroll() {\r\n                if (!this.$refs.wrapper) {\r\n                    return;\r\n                }\r\n                if (this.$refs.listWrapper && (this.pullDownRefresh || this.pullUpLoad)) {\r\n                    this.$refs.listWrapper.style.minHeight = `${getRect(this.$refs.wrapper)\r\n              .height + 1}px`;\r\n                }\r\n                let options = {\r\n                    probeType: this.probeType,\r\n                    click: this.click,\r\n                    scrollY: this.freeScroll || this.direction === DIRECTION_V,\r\n                    scrollX: this.freeScroll || this.direction === DIRECTION_H,\r\n                    scrollbar: this.scrollbar,\r\n                    pullDownRefresh: this.pullDownRefresh,\r\n                    pullUpLoad: this.pullUpLoad,\r\n                    startY: this.startY,\r\n                    freeScroll: this.freeScroll,\r\n                    mouseWheel: this.mouseWheel,\r\n                    bounce: this.bounce,\r\n                    zoom: this.zoom\r\n                };\r\n                this.scroll = new BScroll(this.$refs.wrapper, options);\r\n                if (this.listenScroll) {\r\n                    this.scroll.on(\"scroll\", pos => {\r\n                        this.$emit(\"scroll\", pos);\r\n                    });\r\n                }\r\n                if (this.listenScrollEnd) {\r\n                    this.scroll.on(\"scrollEnd\", pos => {\r\n                        this.$emit(\"scroll-end\", pos);\r\n                    });\r\n                }\r\n                if (this.listenBeforeScroll) {\r\n                    this.scroll.on(\"beforeScrollStart\", () => {\r\n                        this.$emit(\"beforeScrollStart\");\r\n                    });\r\n                    this.scroll.on(\"scrollStart\", () => {\r\n                        this.$emit(\"scroll-start\");\r\n                    });\r\n                }\r\n                if (this.pullDownRefresh) {\r\n                    this._initPullDownRefresh();\r\n                }\r\n                if (this.pullUpLoad) {\r\n                    this._initPullUpLoad();\r\n                }\r\n            },\r\n            disable() {\r\n                this.scroll && this.scroll.disable();\r\n            },\r\n            enable() {\r\n                this.scroll && this.scroll.enable();\r\n            },\r\n            refresh() {\r\n                this.scroll && this.scroll.refresh();\r\n            },\r\n            scrollTo() {\r\n                this.scroll && this.scroll.scrollTo.apply(this.scroll, arguments);\r\n            },\r\n            autoPullDownRefresh() {\r\n                this.scroll && this.scroll.autoPullDownRefresh();\r\n            },\r\n            scrollToElement() {\r\n                this.scroll && this.scroll.scrollToElement.apply(this.scroll, arguments);\r\n            },\r\n            clickItem(e, item) {\r\n                console.log(e);\r\n                this.$emit(\"click\", item);\r\n            },\r\n            destroy() {\r\n                this.scroll.destroy();\r\n            },\r\n            forceUpdate(dirty) {\r\n                if (this.pullDownRefresh && this.isPullingDown) {\r\n                    this.isPullingDown = false;\r\n                    this._reboundPullDown().then(() => {\r\n                        this._afterPullDown();\r\n                    });\r\n                } else if (this.pullUpLoad && this.isPullUpLoad) {\r\n                    this.isPullUpLoad = false;\r\n                    this.scroll.finishPullUp();\r\n                    this.pullUpDirty = dirty;\r\n                    this.refresh();\r\n                } else {\r\n                    this.refresh();\r\n                }\r\n            },\r\n            _initPullDownRefresh() {\r\n                this.scroll.on(\"pullingDown\", () => {\r\n                    this.beforePullDown = false;\r\n                    this.isPullingDown = true;\r\n                    this.$emit(\"pullingDown\");\r\n                });\r\n                this.scroll.on(\"scroll\", pos => {\r\n                    if (!this.pullDownRefresh) {\r\n                        return;\r\n                    }\r\n                    if (this.beforePullDown) {\r\n                        this.bubbleY = Math.max(0, pos.y + this.pullDownInitTop);\r\n                        this.pullDownStyle = `top:${Math.min(\r\n                pos.y + this.pullDownInitTop,\r\n                10\r\n              )}px`;\r\n                    } else {\r\n                        this.bubbleY = 0;\r\n                    }\r\n                    if (this.isRebounding) {\r\n                        this.pullDownStyle = `top:${10 -\r\n                (this.pullDownRefresh.stop - pos.y)}px`;\r\n                    }\r\n                });\r\n            },\r\n            _initPullUpLoad() {\r\n                this.scroll.on(\"pullingUp\", () => {\r\n                    this.isPullUpLoad = true;\r\n                    this.$emit(\"pullingUp\");\r\n                });\r\n            },\r\n            _reboundPullDown() {\r\n                const {\r\n                    stopTime = 600\r\n                } = this.pullDownRefresh;\r\n                return new Promise(resolve => {\r\n                    setTimeout(() => {\r\n                        this.isRebounding = true;\r\n                        this.scroll.finishPullDown();\r\n                        resolve();\r\n                    }, stopTime);\r\n                });\r\n            },\r\n            _afterPullDown() {\r\n                setTimeout(() => {\r\n                    this.pullDownStyle = `top:${this.pullDownInitTop}px`;\r\n                    this.beforePullDown = true;\r\n                    this.isRebounding = false;\r\n                    this.refresh();\r\n                }, this.scroll.options.bounceTime);\r\n            }\r\n        },\r\n        watch: {\r\n            data() {\r\n                setTimeout(() => {\r\n                    this.forceUpdate(true);\r\n                }, this.refreshDelay);\r\n            }\r\n        },\r\n        components: {\r\n            Loading,\r\n            Bubble\r\n        }\r\n    };\r\n</script>\r\n\r\n<style lang=\"scss\" >\r\n.list-wrapper {\r\n  position: relative;\r\n  height: 100%;\r\n  /* position: absolute */\r\n  /* left: 0 */\r\n  /* top: 0 */\r\n  /* right: 0 */\r\n  /* bottom: 0 */\r\n  overflow: hidden;\r\n  background: #fff;\r\n\r\n  .scroll-content {\r\n    position: relative;\r\n    z-index: 1;\r\n  }\r\n\r\n  .list-content {\r\n    position: relative;\r\n    z-index: 10;\r\n    background: #fff;\r\n\r\n    .list-item {\r\n      height: 60px;\r\n      line-height: 60px;\r\n      font-size: 18px;\r\n      padding-left: 20px;\r\n      border-bottom: 1px solid #e5e5e5;\r\n    }\r\n  }\r\n}\r\n\r\n.pulldown-wrapper {\r\n  position: absolute;\r\n  width: 100%;\r\n  left: 0;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  transition: all;\r\n\r\n  .after-trigger {\r\n    margin-top: 10px;\r\n  }\r\n}\r\n\r\n.pullup-wrapper {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  padding: 16px 0;\r\n}\r\n</style>"]}]}